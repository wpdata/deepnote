# 智能错题整理小程序 - 开发路线图

## 📍 当前进度

**当前版本**: v0.1（前端完成）
**最后更新**: 2025-10-25

---

## ✅ 已完成工作

### Phase 1: 前端开发 ✅
- [x] 7个小程序页面开发
  - [x] 首页（Home）
  - [x] 错题本页（ErrorBook）
  - [x] 拍题识别页（Scan）
  - [x] 错题详情页（ErrorDetail）
  - [x] 练习页（Practice）
  - [x] 随机练习页（QuickPractice）
  - [x] 个人中心页（Profile）
- [x] UI设计和交互实现
- [x] 页面导航和TabBar
- [x] 提交GitHub并打v0.1标签

### Phase 2: 数据库设计 ✅
- [x] 数据库结构设计（6个集合）
  - [x] users - 用户信息
  - [x] errors - 错题集合
  - [x] subjects - 学科信息
  - [x] practices - 练习记录
  - [x] knowledge_stats - 知识点统计
  - [x] ocr_records - OCR记录
- [x] 创建所有数据集合
- [x] 配置权限规则
- [x] 初始化学科数据
- [x] 编写数据库设计文档

### Phase 3: 技术方案设计 ✅
- [x] OCR识别技术路线
- [x] AI分析技术方案
- [x] 题库管理系统架构
- [x] 多格式文件支持方案

---

## 🚧 进行中的工作

### Phase 4: 后端开发（当前）

#### 优先级 P0 - 核心功能云函数

##### 1. OCR和错题管理
- [ ] **ocrRecognize** - OCR识别云函数
  ```
  功能：调用腾讯云OCR识别图片文字
  输入：图片fileID
  输出：识别文本、置信度
  依赖：腾讯云OCR API
  ```

- [ ] **saveError** - 保存错题
  ```
  功能：保存OCR识别的错题到数据库
  输入：题目内容、学科、知识点
  输出：错题ID
  依赖：errors集合
  ```

- [ ] **getErrorDetail** - 获取错题详情
  ```
  功能：查询错题完整信息
  输入：错题ID
  输出：题目详情、统计信息
  ```

- [ ] **updateErrorStatus** - 更新掌握状态
  ```
  功能：标记错题为已掌握/未掌握
  输入：错题ID、状态
  输出：更新结果
  ```

##### 2. 练习功能
- [ ] **generatePractice** - 生成练习题
  ```
  功能：根据知识点生成练习题
  策略：
    1. 优先从自己的未掌握错题中选择
    2. 从题库中匹配相似题目
    3. AI生成新题（可选）
  输入：知识点、题数
  输出：练习题列表
  ```

- [ ] **savePracticeRecord** - 保存练习记录
  ```
  功能：记录答题情况和统计
  输入：练习题目、答案、耗时
  输出：统计数据
  ```

##### 3. 用户数据
- [ ] **getUserStats** - 获取用户统计
  ```
  功能：获取用户学习数据
  输入：用户openid
  输出：错题数、掌握率、练习次数
  ```

- [ ] **syncUserData** - 数据同步
  ```
  功能：备份和恢复用户数据
  输入：操作类型（backup/restore）
  输出：同步结果
  ```

---

### Phase 5: Web管理后台（并行开发）

#### 技术选型
```
前端框架：React / Vue 3
UI组件：Ant Design / Element Plus
构建工具：Vite
云开发SDK：@cloudbase/js-sdk
```

#### 功能模块

##### 1. 题库管理系统
- [ ] **后台项目初始化**
  - [ ] 创建项目脚手架
  - [ ] 集成云开发Web SDK
  - [ ] 配置路由和布局

- [ ] **题库上传模块**
  - [ ] 图片上传（拖拽/点击）
  - [ ] PDF文件上传
  - [ ] Word文件上传
  - [ ] 批量上传队列
  - [ ] 上传进度显示
  - [ ] OCR识别和AI分类

- [ ] **题库列表模块**
  - [ ] 题目列表展示
  - [ ] 筛选器（学科/知识点/难度）
  - [ ] 搜索功能
  - [ ] 分页
  - [ ] 批量操作

- [ ] **题目编辑模块**
  - [ ] 题目详情编辑
  - [ ] 选项编辑器
  - [ ] 标签管理
  - [ ] 解析编辑
  - [ ] 图片预览

- [ ] **统计分析模块**
  - [ ] 题库总览
  - [ ] 使用统计图表
  - [ ] 正确率分析
  - [ ] 导出报表

##### 2. 权限管理
- [ ] 管理员登录（微信扫码）
- [ ] 用户角色管理
- [ ] 权限控制中间件

##### 3. 新增数据集合
- [ ] **question_bank** - 题库集合
  ```javascript
  {
    subject: "学科",
    knowledgePoint: "知识点",
    difficulty: "难度",
    content: "题目内容",
    options: [{label, text}],
    correctAnswer: 索引,
    explanation: "解析",
    tags: ["标签"],
    usedCount: 使用次数,
    correctRate: 正确率
  }
  ```

---

## 📅 待办工作

### Phase 6: 前后端联调
- [ ] 首页数据联调
- [ ] 错题本数据联调
- [ ] 拍题识别联调
- [ ] 错题详情联调
- [ ] 练习功能联调
- [ ] 个人中心联调

### Phase 7: 部署和测试
- [ ] 云函数部署
- [ ] 小程序功能测试
- [ ] Web后台部署到云托管
- [ ] 整体联调测试
- [ ] 性能测试
- [ ] 用户验收测试

### Phase 8: AI增强（可选）
- [ ] 集成混元大模型
- [ ] AI错题分析
- [ ] AI自动分类
- [ ] AI生成题目
- [ ] 个性化推荐

### Phase 9: 优化和上线
- [ ] 性能优化
- [ ] 用户体验优化
- [ ] 小程序审核和发布
- [ ] 用户反馈收集
- [ ] 迭代优化

---

## 🎯 里程碑计划

### v0.2 - 基础功能可用（目标：1-2周）
- ✅ 数据库完成
- ⏳ 核心云函数开发
- ⏳ 前后端联调
- ⏳ 基本流程跑通

**核心功能：**
- 用户可以拍照上传错题
- OCR识别题目文本
- 手动编辑和保存
- 查看错题列表
- 标记已掌握

### v0.3 - 练习功能上线（目标：2-3周）
- ⏳ 练习题生成
- ⏳ 答题和统计
- ⏳ 掌握率计算
- ⏳ Web管理后台上线

**新增功能：**
- 强化练习
- 随机练习
- 题库管理（Web后台）
- 数据统计

### v0.4 - AI增强版（目标：3-4周）
- ⏳ AI错题分析
- ⏳ 智能推荐
- ⏳ 学习曲线分析

**AI功能：**
- 自动分析错误原因
- 智能生成解析
- 个性化推荐

### v1.0 - 正式版（目标：4-6周）
- ⏳ 完整功能测试
- ⏳ 性能优化
- ⏳ 小程序发布

**优化内容：**
- 性能优化
- 体验优化
- 正式上线

---

## 📊 开发优先级

### P0 - 必须完成（核心功能）
1. OCR识别云函数
2. 错题保存和查询
3. 前后端联调
4. 基本流程测试

### P1 - 重要功能（核心体验）
1. 练习题生成
2. 答题统计
3. Web题库管理
4. 数据同步

### P2 - 增强功能（提升体验）
1. AI错题分析
2. 智能推荐
3. 批量上传
4. 导出功能

### P3 - 优化功能（锦上添花）
1. 性能优化
2. 动画优化
3. 数据分析
4. 用户画像

---

## 🔗 相关链接

- **GitHub仓库**: https://github.com/wpdata/deepnote
- **云开发环境**: deepnote-3g0lr0fb3ce6ea1c
- **设计文档**: DATABASE_DESIGN.md
- **项目总结**: PROJECT_SUMMARY.md

---

## 📝 下一步行动

**立即开始：**
1. 开发 ocrRecognize 云函数
2. 开发 saveError 云函数
3. 开发 getUserStats 云函数
4. 小程序前后端联调测试

**并行进行：**
1. 创建 Web 管理后台项目
2. 设计 question_bank 数据结构
3. 开发题库上传功能

---

**版本**: v0.1
**更新时间**: 2025-10-25
