<scroll-view class="container" scroll-y="true" refresher-enabled="{{true}}" refresher-triggered="{{refreshing}}" bindrefresherrefresh="onPullDownRefresh" enable-back-to-top="{{true}}">
  <!-- 统计卡片区域 -->
  <view class="stats-section">
    <view class="stat-card">
      <text class="stat-label">问题总数</text>
      <text class="stat-value">{{stats.totalErrors}}</text>
    </view>
    <view class="stat-card">
      <text class="stat-label">掌握的概念</text>
      <text class="stat-value">{{stats.masteredCount}}</text>
    </view>
    <view class="stat-card">
      <text class="stat-label">需要改进</text>
      <text class="stat-value">{{stats.needImprove}}</text>
    </view>
  </view>

  <!-- 快捷功能 -->
  <view class="section-title">快捷功能</view>
  <view class="quick-actions">
    <view class="action-card math-check" bindtap="goToMathCheck">
      <view class="action-icon">🧮</view>
      <view class="action-info">
        <text class="action-name">口算检查</text>
        <text class="action-desc">拍照批改口算作业</text>
      </view>
      <text class="action-arrow">→</text>
    </view>
  </view>

  <!-- 学科分类 -->
  <view class="section-title">学科分类</view>
  <view class="subjects-grid">
    <view
      class="subject-card"
      wx:for="{{subjects}}"
      wx:key="id"
      style="background-color: {{item.bgColor}}"
      bindtap="onSubjectTap"
      data-id="{{item.id}}"
      data-name="{{item.name}}"
    >
      <view class="subject-icon">{{item.icon}}</view>
      <view class="subject-info">
        <text class="subject-name">{{item.name}}</text>
        <text class="quick-practice">快速练习</text>
      </view>
    </view>
  </view>

  <!-- 学科掌握进度 -->
  <view class="section-title">数学掌握</view>
  <view class="progress-section">
    <view class="progress-item" wx:for="{{subjects}}" wx:key="id">
      <text class="progress-label">{{item.name}}掌握</text>
      <view class="progress-bar-container">
        <view class="progress-bar" style="width: {{item.progress}}%"></view>
      </view>
    </view>
  </view>
</scroll-view>
